$(document).ready(function(){sugelico.getServerCall({classname:"Company.Get",_name:""},function(e,t){cont=0,e.forEach(function(e){$("#company").append($("<option />").val(e.code).html(e._name))})}),sugelico.getServerCall({classname:"Types.Get",level:14},function(e,t){cont=0,e.forEach(function(e){$("#_type").append($("<option />").val(e.code).html(e.tpname))})}),sugelico.getServerCall({classname:"General.getPrinters",brand:""},function(e,t){var n;e=JSON.parse(e);var a='<button class="btn btn-success edit_printer left" data-id="{id}" data-toggle="modal" data-target="#edit_printer"><i class="glyphicon glyphicon-pencil"></i></button><button class="btn btn-default delete_printer" data-id="{id}" data-toggle="modal" data-target="#delete_printer"><i class="glyphicon glyphicon-remove"></i></button>';""==$("#printers_table").val()&&(n=$("#printers_table").DataTable()),e.forEach(function(e){n.row.add([e.brand,e.model,"","","",e.path,a.replace("{id}",e.code).replace("{id}",e.code)]).draw(!1)}),$("#printers_table tbody").on("click","button.edit_printer",function(){editModuleBtnClicked($(this))}),$("#printers_table tbody").on("click","button.delete_printer",function(){deleteModuleBtnClicked($(this))})}),$("#printer_add_form").submit(function(e){e.preventDefault(),formData=new FormData(document.getElementById("printer_add_form")),formData.append("classname","General.HandlePrinter"),formData.append("status",11),sugelico.postFormServerCall(formData,function(e,t){0<e.code?window.location="/?md=printer_add":$("#error_alert").removeClass("hidden")})}),$(".edit_printer").click(function(){$(this);var a=$("#edit_printer");sugelico.getServerCall({},function(e,t){console.log(e),console.log(t),a.find("#brand").val("Printer 1"),a.find("#model").val("CJSK-23a32-DD"),a.find("#papersize").val("Activa"),a.find("#thermal").val("1").trigger("change"),a.find("#autocut").val("0").trigger("change"),a.find("#path").val("72.wd.23.2323")});var e=function(e,t){var n=a.find("#edit_printer_form");console.log(n.serialize())};$("#edit_printer_btn").click(function(){sugelico.postServerCall({},e)})}),$(".delete_printer").click(function(){$(this);var e=$("#delete_printer"),t=function(e,t){console.log("eliminado")};$("#delete_printer_btn").click(function(){e.modal("hide");sugelico.postServerCall({classname:"Users.Handle",status:13,code:14},t)})})});